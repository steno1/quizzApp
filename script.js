

const sectionedQuestions = [
    // Session 1 
    [
        {
            question: "Who is the current President of Nigeria?",
            options: ["Bola Tinubu", "Yemi Osinbajo", "Atiku Abubakar", "Goodluck Jonathan"],
            correctAnswer: "Bola Tinubu"
        },
        {
            question: "Which Nigerian city hosted the 2022 FIFA World Cup qualifying match against Ghana?",
            options: ["Lagos", "Abuja", "Port Harcourt", "Kano"],
            correctAnswer: "Abuja"
        },
        {
            question: "Who is the governor of Lagos State as of 2025?",
            options: ["Babajide Sanwo-Olu", "Akinwunmi Ambode", "Bola Tinubu", "Rauf Aregbesola"],
            correctAnswer: "Babajide Sanwo-Olu"
        },
        {
            question: "Which Nigerian company became the first in Africa to reach a $1 billion valuation in 2021?",
            options: ["Jumia", "Flutterwave", "Paystack", "Andela"],
            correctAnswer: "Flutterwave"
        },
        {
            question: "In 2022, who was appointed as the new Chairman of the Economic and Financial Crimes Commission (EFCC)?",
            options: ["Abdulrasheed Bawa", "Ibrahim Magu", "Nuhu Ribadu", "Magu Ibrahim"],
            correctAnswer: "Abdulrasheed Bawa"
        },
        {
            question: "Which Nigerian musician won the 2022 Grammy Award for Best Global Music Album?",
            options: ["Wizkid", "Burna Boy", "Davido", "Tiwa Savage"],
            correctAnswer: "Burna Boy"
        },
        {
            question: "In 2022, Nigeria launched its first digital currency called?",
            options: ["Bitcoin", "E-Naira", "CryptoNaira", "NairaToken"],
            correctAnswer: "E-Naira"
        },
        {
            question: "Which Nigerian state has the largest population?",
            options: ["Lagos", "Kano", "Rivers", "Kaduna"],
            correctAnswer: "Lagos"
        },
        {
            question: "In 2021, which Nigerian state became the first to implement a state-wide ban on open grazing?",
            options: ["Kaduna", "Benue", "Ekiti", "Kogi"],
            correctAnswer: "Kaduna"
        },
        {
            question: "Which Nigerian football club won the 2020/2021 Nigeria Professional Football League (NPFL) season?",
            options: ["Rivers United", "Enyimba", "Kano Pillars", "Heartland FC"],
            correctAnswer: "Rivers United"
        }
    ],

    // Session 2 
    [
        {
            question: "What is the total amount of Nigeria's 2025 budget, and what factors contributed to its increase from the initially proposed figure?",
            options: ["₦15 trillion", "₦20 trillion", "₦22 trillion", "₦30 trillion"],
            correctAnswer: "₦22 trillion"
        },
        {
            question: "Which region in Nigeria is the government negotiating with local communities to restart oil production, following Shell's sale of its onshore business?",
            options: ["Niger Delta", "South-West", "North-East", "North-Central"],
            correctAnswer: "Niger Delta"
        },
        {
            question: "What recent environmental incident occurred in Ogale, near Port Harcourt, Nigeria, and what was the cause?",
            options: ["Oil spill", "Flooding", "Fire outbreak", "Earthquake"],
            correctAnswer: "Oil spill"
        },
        {
            question: "What significant change did President Bola Tinubu implement in the leadership of the University of Abuja?",
            options: ["Appointment of a new Vice Chancellor", "Expansion of the campus", "Introduction of new courses", "Launch of a research center"],
            correctAnswer: "Appointment of a new Vice Chancellor"
        },
        {
            question: "What is the proposed 12-year basic education model introduced by the Federal Government, and how does it differ from the current system?",
            options: ["Six years of primary, six years of secondary education", "Six years of primary, six years of university education", "Nine years of primary, three years of secondary", "Twelve years of primary education"],
            correctAnswer: "Six years of primary, six years of secondary education"
        },
        {
            question: "What did the Nigerian Meteorological Agency (NiMet) unveil on February 4, 2025, and what is its significance?",
            options: ["Annual weather forecast", "New climate change initiative", "Innovative flood control technology", "National air pollution report"],
            correctAnswer: "Annual weather forecast"
        },
        {
            question: "What tragic event occurred near Suleja, Niger State, on January 18, 2025, involving a fuel tanker, and what were the consequences?",
            options: ["Explosion, many lives lost", "Accident, fuel leakage", "Collapse of the tanker", "Fire outbreak with minor damages"],
            correctAnswer: "Explosion, many lives lost"
        },
        {
            question: "What deadline did the governors elected under the Peoples Democratic Party (PDP) set for the National Working Committee (NWC) to call a National Executive Council (NEC) meeting?",
            options: ["February 2025", "March 2025", "April 2025", "May 2025"],
            correctAnswer: "February 2025"
        },
        {
            question: "What is the purpose of the National Youth Conference scheduled for February 2025, and what are the concerns raised by youth groups regarding its organization?",
            options: ["Youth empowerment", "Job creation", "Political participation", "Education reform"],
            correctAnswer: "Youth empowerment"
        },
        {
            question: "What challenges are being faced in the distribution and accessibility of malaria vaccines in Nigeria, and what are the implications for child health?",
            options: ["Lack of awareness", "Transportation issues", "Political interference", "Medical shortages"],
            correctAnswer: "Transportation issues"
        }
    ],

    // Session 3 
    [
        {
            question: "Which Nigerian state became the first to implement the National Livestock Transformation Plan (NLTP) in 2025?",
            options: ["Kaduna", "Borno", "Adamawa", "Ekiti"],
            correctAnswer: "Kaduna"
        },
        {
            question: "What major policy change did the Nigerian Central Bank announce in January 2025 regarding foreign exchange?",
            options: ["Pegged exchange rate", "Increased exchange rate window", "Devaluation of the Naira", "Introduction of a new currency"],
            correctAnswer: "Increased exchange rate window"
        },
        {
            question: "What recent move by the Nigerian government is aimed at curbing corruption in the public sector in 2025?",
            options: ["More funding for anti-corruption agencies", "Implementation of stricter auditing policies", "Introduction of an anti-corruption court", "Limiting government spending"],
            correctAnswer: "Implementation of stricter auditing policies"
        },
        {
            question: "Which Nigerian state is experiencing severe flooding as of February 2025 due to heavy rainfall and climate change impacts?",
            options: ["Rivers", "Bayelsa", "Kano", "Ogun"],
            correctAnswer: "Rivers"
        },
        {
            question: "Which major international company signed an agreement with Nigeria to invest in the renewable energy sector in 2025?",
            options: ["Tesla", "Shell", "Siemens", "General Electric"],
            correctAnswer: "Siemens"
        },
        {
            question: "What decision did the Nigerian National Assembly make regarding the fuel subsidy removal in January 2025?",
            options: ["Complete removal", "Gradual removal over five years", "Increase in fuel prices", "No action taken"],
            correctAnswer: "Complete removal"
        },
        {
            question: "Which Nigerian organization launched a nationwide initiative to combat gender-based violence in 2025?",
            options: ["UNICEF", "National Human Rights Commission", "Women’s Rights Group", "Federal Ministry of Women Affairs"],
            correctAnswer: "National Human Rights Commission"
        },
        {
            question: "Which Nigerian city was chosen to host the 2025 African Cup of Nations (AFCON)?",
            options: ["Abuja", "Lagos", "Port Harcourt", "Kano"],
            correctAnswer: "Abuja"
        },
        {
            question: "What is the main cause of the recent increase in food prices across Nigeria as of 2025?",
            options: ["Economic inflation", "Flooding of agricultural land", "Higher transportation costs", "Low agricultural yields"],
            correctAnswer: "Economic inflation"
        },
        {
            question: "What are the proposed changes to the Nigerian electoral system being discussed in 2025?",
            options: ["Voting age reduction", "Increase in election transparency", "Introduction of online voting", "Reduction of campaign funding limits"],
            correctAnswer: "Increase in election transparency"
        }
    ]
];

//Make the question random
function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]]; 
    }
}


sectionedQuestions.forEach(section => {
    shuffleArray(section); 
});

let currentSectionIndex = 0;
let currentQuestionIndex = 0;
let sectionScore = 0;  
let totalScore = 0;    

const questionText = document.getElementById("question-text");
const answersContainer = document.getElementById("answers-container");
const progressText = document.getElementById("progress-text");
const nextButton = document.getElementById("next-button");
const finalScoreText = document.getElementById("final-score");
const resultsContainer = document.getElementById("results-container");
const quizContainer = document.getElementById("quiz-container");
const nextSectionButton = document.getElementById("next-section-button");
const restartButton = document.getElementById("restart-button");

function loadQuestion() {
    const currentSection = sectionedQuestions[currentSectionIndex];
    const currentQuestion = currentSection[currentQuestionIndex];

    questionText.textContent = currentQuestion.question;
    answersContainer.innerHTML = ""; 

    currentQuestion.options.forEach(option => {
        const answerDiv = document.createElement("div");
        answerDiv.textContent = option;
        answerDiv.classList.add("answer-option");
        answerDiv.addEventListener("click", () => handleAnswer(option, answerDiv));
        answersContainer.appendChild(answerDiv);
    });

    progressText.textContent = `Question ${currentQuestionIndex + 1} of ${currentSection.length}`;
}

function handleAnswer(selectedAnswer, answerDiv) {
    const currentSection = sectionedQuestions[currentSectionIndex];
    const currentQuestion = currentSection[currentQuestionIndex];

    const allOptions = document.querySelectorAll(".answer-option");
    allOptions.forEach(option => option.classList.add("disabled"));

    if (selectedAnswer === currentQuestion.correctAnswer) {
        sectionScore++;  
        answerDiv.classList.add("correct");
    } else {
        answerDiv.classList.add("incorrect");
        const correctOption = Array.from(allOptions).find(option => option.textContent === currentQuestion.correctAnswer);
        if (correctOption) correctOption.classList.add("correct");
    }

    nextButton.disabled = false;
}

function showSectionResults() {
    const currentSection = sectionedQuestions[currentSectionIndex];
    const totalQuestionsInSection = currentSection.length;

    totalScore += sectionScore;  
    
    quizContainer.classList.add("hidden");
    resultsContainer.classList.remove("hidden");
    finalScoreText.textContent = `Your score for section ${currentSectionIndex + 1} is: ${sectionScore} / ${totalQuestionsInSection}`;
}

function showResults() {
    const totalQuestions = sectionedQuestions.reduce((sum, section) => sum + section.length, 0);
    finalScoreText.textContent = `Your final score is: ${totalScore} / ${totalQuestions}`;
    
    nextButton.classList.add("hidden");  
    nextSectionButton.classList.add("hidden");  
}

nextButton.addEventListener("click", () => {
    currentQuestionIndex++;

    const currentSection = sectionedQuestions[currentSectionIndex];
    if (currentQuestionIndex < currentSection.length) {
        loadQuestion();
        nextButton.disabled = true;
    } else {
        showSectionResults();
    }
});

nextSectionButton.addEventListener("click", () => {
    if (currentSectionIndex < sectionedQuestions.length - 1) {
        currentSectionIndex++;
        currentQuestionIndex = 0;
        sectionScore = 0;  
        
        quizContainer.classList.remove("hidden");
        resultsContainer.classList.add("hidden");
        loadQuestion();
        nextButton.disabled = true;  
    } else {
        showResults(); 
    }
});

restartButton.addEventListener("click", () => {
    currentSectionIndex = 0;
    currentQuestionIndex = 0;
    sectionScore = 0;
    totalScore = 0;

    // Reshuffle questions when restarting the quiz
    sectionedQuestions.forEach(section => {
        shuffleArray(section);
    });
    
    quizContainer.classList.remove("hidden");
    resultsContainer.classList.add("hidden");
    
    nextButton.classList.remove("hidden");    
    nextSectionButton.classList.remove("hidden"); 
    
    loadQuestion();
    nextButton.disabled = true;  
});


loadQuestion();
nextButton.disabled = true;
